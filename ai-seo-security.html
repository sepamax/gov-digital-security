<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI SEO Security & Digital Uplift | Urban Sentinel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Surface scan your website, explore AI SEO Security packages and understand how your digital uplift can align with Australian government grant priorities."
  />
  <style>
    :root {
      --bg: #050914;
      --bg-alt: #0c1222;
      --card: #111829;
      --accent: #1a4c7c;
      --accent-soft: #142c4a;
      --text: #e6edf7;
      --muted: #94a3b8;
      --danger: #f97373;
      --success: #4ade80;
      --warning: #fbbf24;
      --border: #1f2937;
      --radius: 10px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111827 0, #020617 55%);
      color: var(--text);
      line-height: 1.6;
    }
    a { color: #7dd3fc; text-decoration: none; }
    a:hover { text-decoration: underline; }

    header, main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 1.5rem 1.25rem 3rem;
    }

    /* PRINT HEADER (hidden on screen, visible in PDF/print) */
    #print-logo {
      display: none;
      max-width: 1100px;
      margin: 0 auto;
      padding: 1rem 1.25rem 0;
    }

    #print-logo-inner {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    #print-logo img {
      max-width: 80px;
      height: auto;
    }

    #print-logo-title {
      font-weight: 700;
      font-size: 1.1rem;
    }

    #print-logo-subtitle {
      font-size: 0.85rem;
      color: #6b7280;
    }

    /* HERO */
    .hero {
      background: linear-gradient(135deg, #020617, #0b1220);
      border-radius: 16px;
      padding: 2.25rem 2rem;
      border: 1px solid #1f2937;
      box-shadow: 0 24px 70px rgba(0, 0, 0, 0.6);
      margin-top: 1.5rem;
      position: relative;
      overflow: hidden;
    }
    .hero::after {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at top right, rgba(56,189,248,0.16), transparent 60%);
      pointer-events: none;
      opacity: 0.8;
    }
    .hero-inner { position: relative; z-index: 1; }
    .hero-eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.3rem;
    }
    h1 {
      font-size: 2rem;
      margin: 0 0 0.75rem;
      color: #e5f0ff;
    }
    .lead {
      font-size: 1rem;
      color: var(--muted);
      max-width: 680px;
      margin-bottom: 1.25rem;
    }
    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.7rem 1.2rem;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 500;
      border: 1px solid transparent;
      cursor: pointer;
      text-decoration: none;
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, background 0.12s;
    }
    .btn-primary {
      background: var(--accent);
      border-color: #1d4ed8;
      color: #e5f0ff;
      box-shadow: 0 0 0 rgba(0,0,0,0);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 32px rgba(15,118,210,0.25);
    }
    .btn-outline {
      background: transparent;
      border-color: #374151;
      color: var(--muted);
    }
    .hero-meta {
      font-size: 0.8rem;
      color: var(--muted);
    }

    /* SECTIONS */
    section {
      margin-top: 2.5rem;
      background: rgba(2, 6, 23, 0.7);
      border-radius: 14px;
      padding: 1.75rem 1.5rem 2rem;
      border: 1px solid #111827;
    }
    section.alt { background: rgba(15, 23, 42, 0.9); }
    h2 {
      font-size: 1.4rem;
      margin-top: 0;
      margin-bottom: 0.75rem;
      color: #e5f0ff;
    }
    h3 {
      margin-top: 0.5rem;
      margin-bottom: 0.4rem;
      font-size: 1.03rem;
      color: #e5f0ff;
    }
    p { font-size: 0.95rem; }

    .grid {
      display: grid;
      gap: 1rem;
    }
    @media (min-width: 800px) {
      .grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .grid-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    .card {
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 1rem 1rem 1.1rem;
      font-size: 0.9rem;
    }
    .card.danger {
      border-color: #7f1d1d;
      background: radial-gradient(circle at top left, #3f1d1d, #050816);
    }
    ul {
      padding-left: 1.1rem;
      margin: 0.4rem 0 0;
      font-size: 0.9rem;
    }
    li { margin-bottom: 0.25rem; }

    .note {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 0.75rem;
    }

    /* SCAN WIDGET */
    .scan-widget {
      margin-top: 1rem;
      background: #020617;
      border-radius: var(--radius);
      border: 1px solid #1f2937;
      padding: 1rem 1rem 1.2rem;
    }
    .scan-widget label {
      font-size: 0.86rem;
      color: var(--muted);
      display: block;
      margin-bottom: 0.35rem;
    }
    .scan-input-row {
      display: flex;
      gap: 0.4rem;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    .scan-input-row span {
      font-size: 0.9rem;
      color: var(--muted);
    }
    .scan-input-row input {
      flex: 1;
      padding: 0.55rem 0.7rem;
      border-radius: 999px;
      border: 1px solid #374151;
      background: #020617;
      color: var(--text);
      font-size: 0.9rem;
      outline: none;
    }
    .scan-input-row button {
      padding: 0.55rem 1rem;
      border-radius: 999px;
      border: 1px solid #1d4ed8;
      background: var(--accent);
      color: #e5f0ff;
      font-size: 0.9rem;
      cursor: pointer;
      white-space: nowrap;
    }
    .scan-input-row button:disabled {
      opacity: 0.6;
      cursor: default;
    }
    .scan-error {
      color: var(--danger);
      font-size: 0.85rem;
    }

    .scan-result {
      margin-top: 0.8rem;
      padding-top: 0.6rem;
      border-top: 1px dashed #1f2937;
      font-size: 0.9rem;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 0.25s ease-out, transform 0.25s ease-out;
    }
    .scan-result.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .badge {
      display: inline-block;
      padding: 0.15rem 0.55rem;
      border-radius: 999px;
      font-size: 0.75rem;
      margin-left: 0.3rem;
    }
    .badge-fast { background: rgba(34, 197, 94, 0.2); color: var(--success); }
    .badge-moderate { background: rgba(234, 179, 8, 0.15); color: var(--warning); }
    .badge-slow { background: rgba(248, 113, 113, 0.18); color: var(--danger); }
    .badge-unknown { background: rgba(148, 163, 184, 0.2); color: var(--muted); }

    .risk-chip {
      display: inline-block;
      padding: 0.15rem 0.6rem;
      border-radius: 999px;
      font-size: 0.75rem;
      margin-top: 0.2rem;
    }
    .risk-low { background: rgba(34,197,94,0.16); color: #4ade80; }
    .risk-medium { background: rgba(234,179,8,0.16); color: #fbbf24; }
    .risk-high { background: rgba(248,113,113,0.16); color: #f97373; }

    /* GRANT HELPER LAYOUT UNDER RESULTS */
    .helper-grid {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .helper-col {
      flex: 1;
    }
    .helper-card {
      background: #020617;
      border-radius: 10px;
      border: 1px solid #1f2937;
      padding: 1rem;
    }
    .helper-title {
      font-weight: 600;
      margin-bottom: 0.4rem;
      font-size: 0.98rem;
    }
    .helper-textarea {
      width: 100%;
      min-height: 150px;
      border-radius: 6px;
      border: 1px solid #374151;
      padding: 0.6rem;
      background: #020617;
      color: #e5e7eb;
      font-size: 0.85rem;
      resize: vertical;
    }
    .helper-btn {
      margin-top: 0.4rem;
      padding: 0.5rem 0.9rem;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background: #1a4c7c;
      color: #ffffff;
      font-size: 0.85rem;
    }
    .helper-links ul {
      padding-left: 1.1rem;
      margin: 0.35rem 0 0;
      font-size: 0.86rem;
    }
    .helper-links p {
      font-size: 0.88rem;
    }
    .helper-links small {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    @media (min-width: 800px) {
      .helper-grid {
        flex-direction: row;
        align-items: flex-start;
      }
    }

    /* PACKAGES */
    .package-price {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.35rem;
    }
    .package-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
    }

    /* FOOT */
    footer {
      max-width: 1100px;
      margin: 0 auto 2rem;
      padding: 0 1.25rem;
      font-size: 0.8rem;
      color: var(--muted);
    }

    @media print {
      header, #packages, #grants, footer {
        display: none;
      }
      body {
        background: white;
        color: black;
      }
      main {
        padding-top: 1rem;
      }
      section {
        background: white;
        border: none;
      }
      #print-logo {
        display: block;
      }
    }
  </style>
</head>
<body>
  <!-- HEADER SHOWN ONLY IN PRINT / PDF EXPORT -->
  <div id="print-logo">
    <div id="print-logo-inner">
      <!-- Make sure this filename matches the logo you upload to GitHub -->
      <img src="urban-sentinel-logo-light.png" alt="Urban Sentinel logo" />
      <div>
        <div id="print-logo-title">AI Security Scan Results</div>
        <div id="print-logo-subtitle">
          Prepared by Urban Sentinel Pty Ltd ‚Äì AI SEO Security &amp; Digital Uplift
        </div>
      </div>
    </div>
  </div>

  <header>
    <div class="hero">
      <div class="hero-inner">
        <div class="hero-eyebrow">Urban Sentinel ‚Äì AI SEO Security</div>
        <h1>Scan, Harden and Uplift Your Digital Footprint</h1>
        <p class="lead">
          This page gives you a quick surface scan of your domain, outlines AI SEO Security packages
          and explains how your digital uplift can align with Australian government grant priorities.
          No bullshit, no fake ‚Äúfully-funded‚Äù promises.
        </p>
        <div class="hero-actions">
          <a href="#scan" class="btn btn-primary">Run a surface scan</a>
          <a href="#packages" class="btn btn-outline">View AI SEO Security packages</a>
          <a href="#grants" class="btn btn-outline">Check grant alignment</a>
        </div>
        <p class="hero-meta">
          This scanner is high-level only. It does not replace a full security audit or penetration test.
        </p>
      </div>
    </div>
  </header>

  <main>
    <!-- SCAN SECTION -->
    <section id="scan">
      <h2>1. Surface scan your domain</h2>
      <p>
        Enter your primary website domain. We‚Äôll run a lightweight, automated surface check using public
        information only ‚Äî focusing on basic speed, HTTPS reachability and whether your DNS suggests edge
        protection like Cloudflare. You‚Äôll see a strategic summary with a clear recommended next step.
      </p>

      <div class="scan-widget">
        <form id="scanForm">
          <label for="domain">Website domain to scan</label>
          <div class="scan-input-row">
            <span>https://</span>
            <input
              id="domain"
              name="domain"
              type="text"
              placeholder="example.com"
              autocomplete="off"
            />
            <button type="submit" id="scanButton">Run surface scan</button>
          </div>
          <div id="scanError" class="scan-error" style="display:none;"></div>
        </form>

        <div id="scanResult" class="scan-result" style="display:none;"></div>
      </div>

      <p class="note">
        This tool only uses public information accessible from the browser. It cannot see private
        configuration inside your hosting, Cloudflare or other platforms. It‚Äôs designed to flag obvious
        risk and performance issues, not to expose your full setup or scrape search engine results.
      </p>
    </section>

    <!-- PACKAGES SECTION -->
    <section id="packages" class="alt">
      <h2>2. AI SEO Security packages</h2>
      <p>
        Every site is different, but most businesses fall into one of these three patterns. Final pricing
        depends on risk, complexity and scope ‚Äî these ranges are for guidance and planning only.
      </p>

      <div class="grid grid-3">
        <div class="card">
          <div class="package-tag">Package 1</div>
          <h3>Essentials Hardening &amp; SEO Foundation</h3>
          <div class="package-price">Approx. $950 ‚Äì $1,850</div>
          <ul>
            <li>Lock down admin and contact forms.</li>
            <li>Basic firewall rules and bot filtering.</li>
            <li>Core SSL / HTTPS hygiene review.</li>
            <li>Fix obvious technical SEO errors.</li>
            <li>Image and asset optimisation for speed.</li>
          </ul>
          <p class="note">
            Best for small brochure sites, trades, local services and early-stage businesses.
          </p>
        </div>

        <div class="card">
          <div class="package-tag">Package 2</div>
          <h3>Full AI SEO Security Uplift</h3>
          <div class="package-price">Approx. $2,500 ‚Äì $5,500</div>
          <ul>
            <li>Deeper hardening across hosting, DNS and WAF.</li>
            <li>AI-assisted keyword and intent analysis.</li>
            <li>Structured data and crawlability improvements.</li>
            <li>Performance tuning across key templates.</li>
            <li>AI readiness and digital risk review.</li>
          </ul>
          <p class="note">
            Designed for businesses that rely on their website for real lead flow or revenue.
          </p>
        </div>

        <div class="card">
          <div class="package-tag">Package 3</div>
          <h3>Ongoing Monitoring &amp; Optimisation</h3>
          <div class="package-price">$290 ‚Äì $690 / month</div>
          <ul>
            <li>Regular security and uptime checks.</li>
            <li>Performance and core-web-vitals tracking.</li>
            <li>Lightweight SEO adjustments each month.</li>
            <li>Alerting when something breaks or slows down.</li>
            <li>Quarterly review of AI + digital risk posture.</li>
          </ul>
          <p class="note">
            For organisations that want their digital footprint treated like infrastructure, not a one-off project.
          </p>
        </div>
      </div>

      <p class="note">
        All work is documented so you can share it with internal stakeholders, accountants or grant advisors.
      </p>
    </section>

    <!-- GRANTS SECTION -->
    <section id="grants">
      <h2>3. Is your uplift likely to align with a government grant?</h2>
      <p>
        Programs change constantly, but the pattern is similar: governments will often support
        <strong>digital capability uplift, cyber security resilience, AI readiness and sometimes strategic
          digital marketing or website upgrades</strong> ‚Äî especially when they improve competitiveness,
        productivity or export potential.
      </p>

      <div class="grid grid-2">
        <div class="card">
          <h3>Signals you may be eligible</h3>
          <ul>
            <li>You have an active ABN and operate in Australia.</li>
            <li>You‚Äôre a for-profit business, not a hobby or side project.</li>
            <li>You rely on digital systems: website, cloud apps, email, CRM, etc.</li>
            <li>Your revenue and headcount sit inside ‚Äúsmall business‚Äù ranges for your state.</li>
            <li>
              You can show that digital security, AI and online visibility will improve your
              competitiveness, customer experience or growth.
            </li>
          </ul>
        </div>

        <div class="card danger">
          <h3>Common reasons businesses are not eligible</h3>
          <ul>
            <li>Sole traders with no real digital operations.</li>
            <li>Not located in the region the grant actually covers.</li>
            <li>Revenue above the program cap or too many employees.</li>
            <li>
              Trying to fund excluded items only ‚Äì such as CCTV, alarm systems, generic hardware or wages.
            </li>
            <li>
              Wanting a <strong>pure marketing or SEO-only campaign</strong> with no security or capability uplift.
            </li>
          </ul>
        </div>
      </div>

      <p>
        Some programs (for example, Business Basics and other small-business digital grants in Australia)
        specifically support activities like <strong>strategic marketing services, website build/upgrades
        and digital marketing strategy</strong> when they clearly enhance digital capabilities and business
        performance. Your exact eligibility depends on your state, sector, revenue and timing of the grant
        round.
      </p>

      <p>
        Urban Sentinel does <strong>not</strong> lodge applications on your behalf and we never guarantee
        funding. What we do is:
      </p>
      <ul>
        <li>Deliver serious digital security, AI and SEO uplift work.</li>
        <li>Document the changes in plain English plus technical detail underneath.</li>
        <li>
          Provide a Government-Aligned Digital Security Uplift Plan (GADS-UP) you can use as evidence with
          your accountant, advisor or grant consultant.
        </li>
      </ul>
<div class="card" style="margin-top:1.2rem;">
  <h3>Where to look for relevant grants</h3>
  <ul>
    <li>
      <a href="https://business.gov.au/grants-and-programs" target="_blank" rel="noopener">
        Australian Government ‚Äì Grants &amp; Programs Finder
      </a>
    </li>
    <li>
      <a href="https://business.gov.au/expertise-and-advice/small-business-cyber-resilience-service" target="_blank" rel="noopener">
        Small Business Cyber Resilience Service (free 1:1 cyber support)
      </a>
    </li>
    <li>
      <a href="https://www.business.qld.gov.au/running-business/support-services/financial/grants" target="_blank" rel="noopener">
        Business Queensland ‚Äì Small business grants &amp; schedules
      </a>
    </li>
    <li>
      <a href="https://www.grants.services.qld.gov.au/" target="_blank" rel="noopener">
        Queensland Government Grants Finder
      </a>
    </li>
  </ul>
  <p class="note">
    These links are provided for convenience only. Urban Sentinel does not administer or guarantee any grant programs.
  </p>
</div>

      <p class="note">
        Always check the latest guidelines for the specific program you‚Äôre considering, or speak with a
        qualified advisor. Grants are a bonus, not a guarantee.
      </p>
    </section>
  </main>

  <footer>
    Urban Sentinel Pty Ltd ¬∑ AI-Driven Digital Security &amp; Patrols ¬∑ This page is informational only and
    does not constitute financial or legal advice.
  </footer>

  <script>
    const form = document.getElementById("scanForm");
    const domainInput = document.getElementById("domain");
    const errorEl = document.getElementById("scanError");
    const resultEl = document.getElementById("scanResult");
    const button = document.getElementById("scanButton");

    function normaliseDomain(value) {
      if (!value) return "";
      return value
        .trim()
        .toLowerCase()
        .replace(/^https?:\/\//i, "")
        .replace(/\/.*$/, "");
    }

    async function lookupDns(domain) {
      const out = {
        nsNames: [],
        ip: null,
        usesCloudflare: null,
      };

      try {
        const nsRes = await fetch(
          "https://dns.google/resolve?name=" +
            encodeURIComponent(domain) +
            "&type=NS"
        );
        if (nsRes.ok) {
          const nsData = await nsRes.json();
          const answers = nsData.Answer || [];
          out.nsNames = answers.map((a) => String(a.data || "").toLowerCase());
          out.usesCloudflare = out.nsNames.some((n) =>
            n.includes("cloudflare")
          );
        }
      } catch (e) {
        out.usesCloudflare = null;
      }

      try {
        const aRes = await fetch(
          "https://dns.google/resolve?name=" +
            encodeURIComponent(domain) +
            "&type=A"
        );
        if (aRes.ok) {
          const aData = await aRes.json();
          const answers = aData.Answer || [];
          const first = answers.find((a) => a.data);
          if (first) out.ip = first.data;
        }
      } catch (e) {
        out.ip = null;
      }

      return out;
    }

    async function lookupHosting(ip) {
      if (!ip) return null;
      try {
        const res = await fetch("https://ipwho.is/" + encodeURIComponent(ip));
        if (!res.ok) return null;
        const data = await res.json();
        if (!data.success) return null;
        return {
          continent: data.continent || null,
          country: data.country || null,
          org: data.connection && data.connection.org ? data.connection.org : null,
          isp: data.connection && data.connection.isp ? data.connection.isp : null,
        };
      } catch (e) {
        return null;
      }
    }

    async function measureLatency(domain) {
      const result = {
        latencyMs: null,
        httpsWorking: null,
      };

      return new Promise((resolve) => {
        const img = new Image();
        const start = performance.now();
        let done = false;

        const finish = (status) => {
          if (done) return;
          done = true;
          const duration = performance.now() - start;
          result.latencyMs = Math.round(duration);
          result.httpsWorking = status === "ok";
          resolve(result);
        };

        const timer = setTimeout(() => finish("timeout"), 6000);

        img.onload = () => {
          clearTimeout(timer);
          finish("ok");
        };
        img.onerror = () => {
          clearTimeout(timer);
          finish("error");
        };

        img.src =
          "https://" + domain + "/favicon.ico?cacheBust=" + Date.now();
      });
    }

    function classifySpeed(latencyMs) {
      if (latencyMs == null) return "Unknown";
      if (latencyMs < 500) return "Fast";
      if (latencyMs < 1500) return "Moderate";
      if (latencyMs < 4000) return "Slow";
      return "No response / very slow";
    }

    function buildScore(latencyMs, usesCloudflare, hostingInfo) {
      let score = 50;

      if (latencyMs != null) {
        if (latencyMs < 500) score += 20;
        else if (latencyMs < 1500) score += 10;
        else if (latencyMs < 4000) score -= 10;
        else score -= 20;
      } else {
        score -= 5;
      }

      if (usesCloudflare === true) score += 10;
      else if (usesCloudflare === false) score -= 5;

      if (hostingInfo && hostingInfo.country) {
        if (hostingInfo.country === "Australia") score += 5;
      }

      if (score < 0) score = 0;
      if (score > 100) score = 100;
      return score;
    }

    function classifyRisk(score) {
      if (score >= 75) return "Lower (but not zero)";
      if (score >= 50) return "Moderate";
      return "Elevated";
    }

    function upliftText(score) {
      if (score >= 75) {
        return "Surface-level posture looks solid, but deeper issues are still likely. Most sites in this range benefit from tightening configuration, modernising browser-level protections and extracting more performance headroom. This uplift is about resilience ‚Äî not rescue.";
      }
      if (score >= 50) {
        return "Your site sits in the ‚Äòlooks fine until traffic hits it‚Äô category. The surface-level performance is acceptable, but the underlying signals suggest weak stability, inconsistent security layers and no edge protection. A structured AI SEO Security uplift typically improves resilience and perceived speed by 30‚Äì60% for sites in this range ‚Äî especially during real-world traffic spikes or automated bot activity.";
      }
      return "From the outside, your site looks exposed. Not hacked ‚Äî but easy to push over if someone tried. An AI SEO Security uplift would deliver a serious increase in safety, stability and real-world loading performance. This shouldn‚Äôt be treated as a cosmetic upgrade ‚Äî it‚Äôs a foundational fix.";
    }

    function emailMyResults(domain, score) {
      const emailField = document.getElementById("emailCapture");
      if (!emailField) return;
      const email = emailField.value.trim();
      if (!email) {
        alert("Please enter a valid email address.");
        return;
      }
      const subject = `Scan results for ${domain}`;
      const body = `Here are my scan results for ${domain}.\n\nComposite Score: ${score}/100\n\nPlease contact me regarding a full AI SEO Security uplift.\n\nThank you,\n${email}`;
      window.location.href = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    }

    async function copyGrantDescription() {
      const el = document.getElementById("grantDescription");
      if (!el) return;
      const text = el.value;

      try {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          await navigator.clipboard.writeText(text);
        } else {
          el.select();
          el.setSelectionRange(0, 99999);
          document.execCommand("copy");
        }
        alert("Grant description copied. Paste it into your application form.");
      } catch (e) {
        alert("Could not automatically copy. Please select the text and press Ctrl+C (Cmd+C on Mac).");
      }
    }

    function renderResult(data) {
      if (!data) {
        resultEl.style.display = "none";
        resultEl.classList.remove("visible");
        return;
      }

      const speedBadgeClass =
        data.speedCategory === "Fast"
          ? "badge-fast"
          : data.speedCategory === "Moderate"
          ? "badge-moderate"
          : data.speedCategory === "Slow" ||
            data.speedCategory === "No response / very slow"
          ? "badge-slow"
          : "badge-unknown";

      const cfText =
        data.usesCloudflare === true
          ? "Your DNS suggests you are using Cloudflare name servers. That usually means some level of edge protection and caching, though configuration quality still matters."
          : data.usesCloudflare === false
          ? "We did not detect Cloudflare name servers. Your edge protection is likely handled directly by your hosting provider or another service."
          : "We could not reliably read DNS information for your edge layer.";

      const httpsText =
        data.httpsWorking === true
          ? "We could reach your site over HTTPS during this simple test."
          : data.httpsWorking === false
          ? "We could not confidently reach your site over HTTPS from this test. That may indicate SSL/TLS issues or blocking at the edge."
          : "HTTPS reachability was inconclusive from this location.";

      let hostingText = "We could not confidently identify your hosting environment from public data.";
      if (data.hostingInfo) {
        const parts = [];
        if (data.hostingInfo.org) parts.push(data.hostingInfo.org);
        else if (data.hostingInfo.isp) parts.push(data.hostingInfo.isp);
        if (data.hostingInfo.country) parts.push(data.hostingInfo.country);
        if (parts.length) {
          hostingText =
            "Public signals suggest your site is hosted with " +
            parts.join(", ") +
            ". This does not say anything about the quality of your configuration, only the underlying provider.";
        }
      }

      const riskLevel = classifyRisk(data.score);
      const upliftSummary = upliftText(data.score);

      // Base summary
      let html =
        "<h3>Surface scan summary for " +
        data.domain +
        "</h3>" +
        "<ul>" +
        "<li><strong>Composite surface score:</strong> " +
        data.score +
        "/100 (risk level: " +
        riskLevel +
        ")</li>" +
        "<li><strong>Speed:</strong> " +
        data.speedCategory +
        " <span class='badge " +
        speedBadgeClass +
        "'>" +
        (data.latencyMs != null ? data.latencyMs + " ms round trip" : "") +
        "</span></li>" +
        "<li><strong>HTTPS reachability:</strong> " +
        httpsText +
        "</li>" +
        "<li><strong>Edge / Cloudflare signal:</strong> " +
        cfText +
        "</li>" +
        "<li><strong>Hosting signal:</strong> " +
        hostingText +
        "</li>" +
        "<li><strong>Overall assessment:</strong> " +
        upliftSummary +
        "</li>" +
        "</ul>" +
        "<p class='note'>This is a high-level automated scan using public information only. It does not inspect your internal configuration, does not replace a professional audit, and does not provide step-by-step fix instructions.</p>";

      // AI Interpretation Block
      let interpretation = "";

      if (data.score >= 75) {
        interpretation = `
          <h3 style="margin-top:1rem;">AI Interpretation of Your Website</h3>
          <p><strong>Overall posture:</strong> Good surface health, but hidden issues are almost guaranteed.</p>
          <p>Your site performs well enough, but lacks deeper hardening and modern browser-level protections. Without these, Google may gradually demote your visibility and your site remains vulnerable to automated probes and performance instability.</p>
          <p><strong>Recommended next action:</strong> Resilience-focused uplift (Package 1 or 2).</p>
          <p><strong>Estimated improvement range:</strong> 10‚Äì30% stability and performance gain.</p>
        `;
      } else if (data.score >= 50) {
        interpretation = `
          <h3 style="margin-top:1rem;">AI Interpretation of Your Website</h3>
          <p><strong>Overall posture:</strong> Medium stability, moderate risk.</p>
          <p>Your site looks ‚Äúfine‚Äù on the surface, but the deeper signals reveal inconsistent performance, no edge protection and weaker stability under real-world load. These patterns often lead to slower indexing, ranking fluctuations and vulnerability to bot-driven slowdowns.</p>
          <p><strong>Recommended next action:</strong> Full AI SEO Security Uplift (Package 2).</p>
          <p><strong>Estimated improvement range:</strong> 30‚Äì60% increase in stability, security posture and perceived speed.</p>
        `;
      } else {
        interpretation = `
          <h3 style="margin-top:1rem;">AI Interpretation of Your Website</h3>
          <p><strong>Overall posture:</strong> Noticeably fragile and at risk.</p>
          <p>Your site responds slowly, lacks modern defensive layers and is highly vulnerable to routine automated activity. These patterns often result in downtime, SEO penalties and severe ranking instability ‚Äî especially on mobile and low-bandwidth connections.</p>
          <p><strong>Recommended next action:</strong> Priority uplift (Package 2).</p>
          <p><strong>Estimated improvement range:</strong> 40‚Äì80% increase in stability and speed after a structured uplift.</p>
        `;
      }

      // Score Comparison Bar
      const safeScore = 75;
      const scoreGap = safeScore - data.score;
      const comparisonHTML = `
        <div style="margin-top:1.2rem; padding:1rem; border-radius:10px; background:#0b1120; border:1px solid #1f2937;">
          <h3>Score Comparison</h3>
          <p><strong>Your score:</strong> ${data.score}/100</p>
          <p><strong>Recommended minimum for stable SEO &amp; security:</strong> 75/100</p>
          <p><strong>Gap:</strong> ${scoreGap > 0 ? scoreGap : 0} points</p>
          <div style="background:#1f2937; border-radius:6px; height:10px; margin-top:0.5rem; overflow:hidden;">
            <div style="height:100%; width:${data.score}%; background:${data.score >= 75 ? '#22c55e' : data.score >= 50 ? '#fbbf24' : '#ef4444'}; border-radius:6px; transition:width 0.6s ease-out;"></div>
          </div>
        </div>
      `;

      // Risk Indicators
      let performanceRisk;
      if (data.latencyMs == null) performanceRisk = "Medium";
      else if (data.latencyMs > 1500) performanceRisk = "High";
      else if (data.latencyMs > 800) performanceRisk = "Medium";
      else performanceRisk = "Low";

      let securityRisk;
      if (data.usesCloudflare === true) {
        securityRisk = data.score >= 75 ? "Low" : "Medium";
      } else if (data.usesCloudflare === false) {
        securityRisk = data.score >= 60 ? "Medium" : "High";
      } else {
        securityRisk = "Medium";
      }

      let seoRisk;
      if (data.score < 50 || data.speedCategory === "Slow" || data.latencyMs > 1500) {
        seoRisk = "High";
      } else if (data.score < 75 || data.speedCategory === "Moderate") {
        seoRisk = "Medium";
      } else {
        seoRisk = "Low";
      }

      const perfClass = performanceRisk === "High" ? "risk-high" : performanceRisk === "Medium" ? "risk-medium" : "risk-low";
      const secClass = securityRisk === "High" ? "risk-high" : securityRisk === "Medium" ? "risk-medium" : "risk-low";
      const seoClass = seoRisk === "High" ? "risk-high" : seoRisk === "Medium" ? "risk-medium" : "risk-low";

      const riskTagsHTML = `
        <div style="margin-top:1.2rem;">
          <h3>Risk Indicators</h3>
          <p><strong>Performance Risk:</strong> ${performanceRisk} <span class="risk-chip ${perfClass}">‚ö° ${performanceRisk}</span></p>
          <p><strong>Security Risk:</strong> ${securityRisk} <span class="risk-chip ${secClass}">üõ°Ô∏è ${securityRisk}</span></p>
          <p><strong>SEO Stability Risk:</strong> ${seoRisk} <span class="risk-chip ${seoClass}">üìâ ${seoRisk}</span></p>
        </div>
      `;

      // What this likely means for Google
      const googleInsights = [];
      if (data.latencyMs == null) {
        googleInsights.push("Google and real users may see inconsistent response times, which can translate into unstable rankings.");
      } else if (data.latencyMs > 2000) {
        googleInsights.push("Google will treat this as a slow site, especially on mobile and weaker connections, which can drag down visibility.");
      } else if (data.latencyMs > 800) {
        googleInsights.push("Performance is borderline; it may pass basic checks now but is fragile during traffic spikes or busy times of day.");
      } else {
        googleInsights.push("Base performance looks fine, but content, links and UX still decide where you rank.");
      }

      if (data.usesCloudflare === false) {
        googleInsights.push("No visible edge network means your site relies entirely on origin hosting for speed and resilience, which can hurt Core Web Vitals and crawl consistency.");
      }

      if (data.httpsWorking === false) {
        googleInsights.push("Any HTTPS instability is a direct trust and ranking problem for Google and modern browsers.");
      }

      const brandGuess = data.domain
        .split(".")[0]
        .replace(/[-_]/g, " ")
        .trim();

      googleInsights.push(
        `If customers search for ‚Äú${brandGuess}‚Äù or common phrases like ‚Äúyour main service + your city‚Äù and you don‚Äôt appear on the first page or two, it usually means competitors have stronger SEO, content and trust signals on top of these technical issues.`
      );

      const googleHTML = `
        <div style="margin-top:1.2rem;">
          <h3>What This Likely Means for Google</h3>
          <ul>${googleInsights.map((t) => `<li>${t}</li>`).join("")}</ul>
        </div>
      `;

      // Impact if Ignored
      const impactHTML = `
        <div style="margin-top:1.2rem;">
          <h3>Impact if No Action Is Taken</h3>
          <ul>
            <li>Slower indexing &amp; weaker visibility in Google.</li>
            <li>Higher risk during traffic spikes or bot activity.</li>
            <li>Reduced conversion rates due to load delays.</li>
            <li>Ranking volatility, especially after Core Updates.</li>
            <li>Potential downtime from unmitigated load.</li>
          </ul>
        </div>
      `;

      // Priority Level
      let priorityLevel = "Normal";
      if (data.score < 75) priorityLevel = "Important";
      if (data.score < 55) priorityLevel = "Urgent";
      if (data.score < 40) priorityLevel = "Critical";

      const priorityHTML = `
        <div style="margin-top:1.2rem;">
          <h3>Recommended Priority Level</h3>
          <p><strong>${priorityLevel}</strong></p>
        </div>
      `;

      // Grant Alignment
      const grantHTML = `
        <div style="margin-top:1.2rem;">
          <h3>Grant Alignment Potential</h3>
          <p>This type of uplift commonly aligns with digital capability, cyber resilience and AI readiness grants.</p>
          <p>Urban Sentinel provides documentation suitable for advisors and consultants.</p>
        </div>
      `;

      // Helper text for project description
      const projectDescription = `Project title: AI Security & SEO Uplift for ${data.domain}

Summary:
This project will deliver an AI-driven security and SEO uplift for ${data.domain}, addressing elevated performance, cyber resilience and digital visibility risks identified in the attached AI Security Scan Results report.

Key activities:
‚Ä¢ Hardening hosting, DNS and web application firewall configuration
‚Ä¢ Improving HTTPS reliability, caching and bot / abuse filtering
‚Ä¢ Optimising performance and Core Web Vitals across key templates
‚Ä¢ Fixing technical SEO issues that affect crawl, indexation and stability
‚Ä¢ Documenting changes for ongoing security, maintenance and review

Expected outcomes:
‚Ä¢ Faster, more stable experience for customers and search engines
‚Ä¢ Stronger protection against common cyber incidents and automated attacks
‚Ä¢ Improved visibility and ranking stability in Google over time
‚Ä¢ A clearer digital-risk baseline for future AI and automation projects.`;

      // Left: advisory / links, Right: grant helper with copy-paste
      const grantHelperHTML = `
        <div class="helper-grid">
          <div class="helper-col helper-card helper-links">
            <div class="helper-title">Don‚Äôt miss this: combine with free advisory support</div>
            <p>
              You can combine this report with <strong>free government-funded cyber and digital advisory services</strong>
              to build a stronger case and plan your uplift:
            </p>
            <ul>
              <li><a href="https://business.gov.au/grants-and-programs" target="_blank" rel="noopener">Australian Government grants &amp; programs finder</a></li>
              <li><a href="https://business.gov.au/expertise-and-advice/small-business-cyber-resilience-service" target="_blank" rel="noopener">Small Business Cyber Resilience Service ‚Äì free 1:1 cyber help</a></li>
              <li><a href="https://www.business.qld.gov.au/running-business/support-services/financial/grants" target="_blank" rel="noopener">Business Queensland ‚Äì small business grants &amp; schedules</a></li>
              <li><a href="https://www.grants.services.qld.gov.au/" target="_blank" rel="noopener">Queensland Government Grants Finder</a></li>
            </ul>
            <small>
              These services are independent of Urban Sentinel. We provide the technical uplift and documentation;
              they help you navigate funding and broader resilience planning.
            </small>
          </div>
          <div class="helper-col helper-card">
            <div class="helper-title">Grant Application Helper</div>
            <ol style="font-size:0.86rem; padding-left:1.1rem; margin:0 0 0.5rem;">
              <li>Download or print this report as a PDF.</li>
              <li>Attach it to your grant or advisory application.</li>
              <li>Copy the text below into the ‚ÄúProject summary / Need for funding‚Äù box.</li>
            </ol>
            <textarea id="grantDescription" class="helper-textarea">${projectDescription}</textarea>
            <button type="button" class="helper-btn" onclick="copyGrantDescription()">Copy text</button>
          </div>
        </div>
      `;

      // CTA Buttons
      const ctaHTML = `
        <div style="margin-top:1.5rem; display:flex; flex-direction:column; gap:0.5rem;">
          <a href="mailto:info@urbansentinel.com.au?subject=Full%20AI%20SEO%20Security%20Audit%20Request&body=I%E2%80%99d%20like%20a%20full%20audit%20based%20on%20my%20scan%20results%20for%20${encodeURIComponent(
            data.domain
          )}" 
             style="padding:0.7rem 1rem; background:#1a4c7c; color:white; border-radius:10px; text-align:center; text-decoration:none;">
            Request Full AI SEO Security Audit
          </a>
          <a href="urban_sentinel_grant_support.pdf" 
             style="padding:0.7rem 1rem; background:#111827; color:#7dd3fc; border:1px solid #1f2937; border-radius:10px; text-align:center; text-decoration:none;">
            Download Digital Security &amp; AI Uplift Overview (PDF)
          </a>
          <button onclick="window.print()" 
             style="padding:0.7rem 1rem; background:#0f172a; color:#e5e7eb; border-radius:10px; border:1px solid #1f2937; cursor:pointer;">
            Export this report as PDF
          </button>
        </div>
      `;

      // Email results to user
      const emailMeHTML = `
        <div style="margin-top:1.2rem;">
          <h3>Email These Results</h3>
          <input id="emailCapture" placeholder="your-email@example.com" style="padding:0.5rem; width:100%; border-radius:6px; border:1px solid #374151; margin-bottom:0.4rem; background:#0b1120; color:white;">
          <button onclick="emailMyResults('${data.domain}', ${data.score})" 
                  style="padding:0.6rem 1rem; background:#1a4c7c; color:white; border-radius:8px; border:none; cursor:pointer;">
            Send to my email
          </button>
        </div>
      `;

      // Combine
      html +=
        interpretation +
        comparisonHTML +
        riskTagsHTML +
        googleHTML +
        impactHTML +
        priorityHTML +
        grantHTML +
        grantHelperHTML +
        ctaHTML +
        emailMeHTML;

      resultEl.innerHTML = html;
      resultEl.style.display = "block";

      // Trigger animation
      requestAnimationFrame(() => {
        resultEl.classList.add("visible");
      });

      // Update permalink
      window.location.hash = "scan=" + encodeURIComponent(data.domain);
    }

    async function runScan(domain) {
      errorEl.style.display = "none";
      resultEl.style.display = "none";
      resultEl.classList.remove("visible");

      button.disabled = true;
      button.textContent = "Scanning‚Ä¶";

      try {
        const [dnsInfo, latencyInfo] = await Promise.all([
          lookupDns(domain),
          measureLatency(domain),
        ]);

        let hostingInfo = null;
        if (dnsInfo.ip) {
          hostingInfo = await lookupHosting(dnsInfo.ip);
        }

        const speedCategory = classifySpeed(latencyInfo.latencyMs);
        const score = buildScore(
          latencyInfo.latencyMs,
          dnsInfo.usesCloudflare,
          hostingInfo
        );

        const data = {
          domain,
          latencyMs: latencyInfo.latencyMs,
          httpsWorking: latencyInfo.httpsWorking,
          usesCloudflare: dnsInfo.usesCloudflare,
          hostingInfo,
          speedCategory,
          score,
        };

        renderResult(data);
      } catch (err) {
        console.error(err);
        errorEl.textContent =
          "Scan failed. Please try again later or contact Urban Sentinel directly.";
        errorEl.style.display = "block";
      } finally {
        button.disabled = false;
        button.textContent = "Run surface scan";
      }
    }

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const raw = domainInput.value;
      const domain = normaliseDomain(raw);

      if (!domain) {
        errorEl.textContent =
          "Please enter a domain (for example: example.com).";
        errorEl.style.display = "block";
        return;
      }

      await runScan(domain);
    });

    // Permalink: auto-run if #scan=domain present
    window.addEventListener("load", () => {
      const hash = window.location.hash || "";
      if (hash.startsWith("#scan=")) {
        const domain = decodeURIComponent(hash.replace("#scan=", ""));
        if (domain) {
          domainInput.value = domain;
          runScan(domain);
          document.getElementById("scan").scrollIntoView({ behavior: "smooth" });
        }
      }
    });
  </script>
</body>
</html>
